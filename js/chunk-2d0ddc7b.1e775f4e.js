(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ddc7b"],{"839c":function(e,t,c){"use strict";c.r(t);var o=c("7a23");const l={class:"container py-5"},r={"aria-label":"breadcrumb"},a={class:"breadcrumb fs-4 pb-4","aria-label":"breadcrumb"},n={class:"breadcrumb-item"},s=Object(o["createElementVNode"])("i",{class:"bi bi-cart-fill text-warning"},null,-1),i={class:"breadcrumb-item text-brown fw-bold","aria-current":"page"},d={class:"row"},b={class:"col-md-6"},m=["src","alt"],p={class:"col-md-4 offset-md-1"},u={class:"mt-2 h2 text-brown fw-bold"},j={class:"fs-5 rounded-2 ml-1 mb-2 bg-warning py-1 px-2 ms-2"},O=Object(o["createElementVNode"])("hr",{class:"mt-3"},null,-1),N={key:0,class:"my-4 text-muted text-decoration-line-through"},V={class:"row my-3"},h={class:"col"},g={class:"price-lg mb-3 text-brown fw-bold"},E={class:"mr-2 fw-bold"},y={key:0},k={class:"col"},w={class:"input-group input-group-sm col-6"},f={class:"input-group-text"},v=Object(o["createElementVNode"])("i",{class:"bi bi-cart-plus-fill me-2"},null,-1),x=Object(o["createElementVNode"])("small",null,"加入購物車",-1),B=[v,x],C={key:1,class:"py-3"},T={class:"my-3"},D=Object(o["createElementVNode"])("h6",{class:"my-2 text-secondary"},[Object(o["createElementVNode"])("i",{class:"bi bi-emoji-smile me-2"}),Object(o["createTextVNode"])("產品特色：")],-1),S={class:"ms-4"},$={class:"my-3"},L=Object(o["createElementVNode"])("h6",{class:"my- text-secondary"},[Object(o["createElementVNode"])("i",{class:"bi bi-truck me-2"}),Object(o["createTextVNode"])("寄送方式：")],-1),_={class:"mx-4"},q={key:0},U={key:1},F=Object(o["createElementVNode"])("hr",null,null,-1),J=Object(o["createElementVNode"])("div",{class:"mb-1"},[Object(o["createElementVNode"])("h6",{class:"text-secondary"},[Object(o["createElementVNode"])("i",{class:"bi bi-file-text me-2"}),Object(o["createTextVNode"])("產品描述：")])],-1),M={class:"mx-4"},P={class:"lh-lg"},I={class:"border border-4 text-center pt-4"},z=Object(o["createElementVNode"])("div",{class:"fw-bold"},[Object(o["createElementVNode"])("h5",{class:"mb-2 fw-bold"},"相關項目"),Object(o["createElementVNode"])("p",null,"查看了此商品的顧客還查看了")],-1),A={class:"row p-3"},G=["src","alt"],H={class:"card-body p-2"},K={class:"mt-2 text-brown fw-bold"},Q={class:"rounded-2 ml-1 mb-2 bg-warning px-1 ms-2"},R={key:0,class:"text-decoration-line-through mb-2 text-muted"},W={class:"price mb-2"},X=Object(o["createElementVNode"])("small",{class:"mr-2"},"優惠價",-1),Y={key:0},Z=["onClick"],ee=Object(o["createElementVNode"])("i",{class:"bi bi-cart-plus-fill me-2"},null,-1),te=Object(o["createElementVNode"])("small",null,"加入購物車",-1),ce=[ee,te];function oe(e,t,c,v,x,ee){const te=Object(o["resolveComponent"])("VueLoading"),oe=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(te,{active:x.isLoading},null,8,["active"]),Object(o["createElementVNode"])("div",l,[Object(o["createElementVNode"])("nav",r,[Object(o["createElementVNode"])("ol",a,[Object(o["createElementVNode"])("li",n,[Object(o["createVNode"])(oe,{to:"/products"},{default:Object(o["withCtx"])(()=>[s]),_:1})]),Object(o["createElementVNode"])("li",i,Object(o["toDisplayString"])(x.product.title),1)])]),Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("div",b,[Object(o["createElementVNode"])("img",{src:x.product.imageUrl,class:"img-fluid rounded-4",alt:x.product.title},null,8,m)]),Object(o["createElementVNode"])("div",p,[Object(o["createElementVNode"])("h5",u,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(x.product.title)+" ",1),Object(o["createElementVNode"])("small",j,Object(o["toDisplayString"])(x.product.category),1)]),O,x.product.origin_price?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",N," 定價 NT$"+Object(o["toDisplayString"])(x.product.origin_price),1)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",V,[Object(o["createElementVNode"])("div",h,[Object(o["createElementVNode"])("h5",g,[Object(o["createElementVNode"])("p",E,[Object(o["createTextVNode"])("優惠價 "),x.product.price?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",y,"NT$"+Object(o["toDisplayString"])(x.product.price),1)):Object(o["createCommentVNode"])("",!0)])])]),Object(o["createElementVNode"])("div",k,[Object(o["createElementVNode"])("div",w,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"number",class:"form-control","aria-label":"商品數量",min:"1","onUpdate:modelValue":t[0]||(t[0]=e=>x.qty=e)},null,512),[[o["vModelText"],x.qty,void 0,{number:!0}]]),Object(o["createElementVNode"])("span",f,"/ "+Object(o["toDisplayString"])(x.product.unit)+"入",1)])])]),Object(o["createElementVNode"])("button",{type:"button",class:"btn btn-brown btn-sm rounded-2 w-100 py-2 fs-5",onClick:t[1]||(t[1]=e=>ee.addToCart(x.product.id))},B),x.product.description?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",C,[Object(o["createElementVNode"])("div",T,[D,Object(o["createElementVNode"])("span",S,Object(o["toDisplayString"])(x.product.description),1)]),Object(o["createElementVNode"])("div",$,[L,Object(o["createElementVNode"])("div",_,[(x.product.category="寵物用品")?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",q,"常溫專業貨車配送，及產品防撞確實，讓寵物玩具不再變形!")):(x.product.category="保健用品")?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",U,"常溫、低溫寵物食品有專業貨車配送，及產品防撞確實，讓商品到手中不再變形!")):Object(o["createCommentVNode"])("",!0)])]),F,J,Object(o["createElementVNode"])("div",M,[Object(o["createElementVNode"])("p",P,Object(o["toDisplayString"])(x.product.content),1)])])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createElementVNode"])("section",I,[z,Object(o["createElementVNode"])("div",A,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(x.products,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"col-md-4 rounded-0 border-0 card",key:e.id},[Object(o["createElementVNode"])("img",{src:e.imageUrl,alt:e.title,class:"card-img-top img-fluid",style:{height:"350px"}},null,8,G),Object(o["createElementVNode"])("div",H,[Object(o["createElementVNode"])("h6",K,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.title)+" ",1),Object(o["createElementVNode"])("small",Q,Object(o["toDisplayString"])(e.category),1)]),e.origin_price?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",R," 定價 NT$"+Object(o["toDisplayString"])(e.origin_price),1)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("p",W,[X,e.price?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",Y,"NT$"+Object(o["toDisplayString"])(e.price),1)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("button",{type:"button",class:"btn btn-brown btn-sm rounded-2 w-100 py-1",onClick:t=>ee.addToCart(e.id)},ce,8,Z)])]))),128))])])])],64)}var le=c("cfb9"),re={data(){return{products:[],product:{},id:"",qty:1,isLoading:!1}},methods:{getProduct(){const e="https://vue3-course-api.hexschool.io/api/chifinal-api/product/"+this.id;this.isLoading=!0,this.$http.get(e).then(e=>{this.isLoading=!1,this.product=e.data.product;const t="https://vue3-course-api.hexschool.io/api/chifinal-api/products/all";this.$http.get(t).then(e=>{const t=e.data.products.filter(e=>e.category===this.product.category);this.products=t,this.products.length>3&&this.products.splice(3)})})},addToCart(e){const t="https://vue3-course-api.hexschool.io/api/chifinal-api/cart",c={product_id:e,qty:this.qty};this.isLoading=!0,this.$http.post(t,{data:c}).then(e=>{this.isLoading=!1,le["a"].emit("getCartLength"),this.$httpMessageState(e,"加入購物車"),this.$swal.fire({icon:"success",title:"已加入購物車",showConfirmButton:!1,timer:1500})}).catch(e=>{console.log(e),this.isLoading=!1,this.$swal.fire({icon:"error",title:"新增失敗，請確認是否有保持連線 !",showConfirmButton:!1,timer:1500})})}},created(){this.id=this.$route.params.productId,this.getProduct()}},ae=c("6b0d"),ne=c.n(ae);const se=ne()(re,[["render",oe]]);t["default"]=se}}]);
//# sourceMappingURL=chunk-2d0ddc7b.1e775f4e.js.map