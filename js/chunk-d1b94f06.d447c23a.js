(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d1b94f06"],{"0cde":function(e,t,a){"use strict";a.r(t);var s=a("7a23");const c={class:"border-bottom mt-5"},o={class:"container"},i=Object(s["createStaticVNode"])('<div class="d-none d-md-block position-relative"><img class="w-100 rounded-3 carousel-h object-cover-center" src="https://images.unsplash.com/photo-1555341029-f730b0ce4522?ixlib=rb-4.0.3&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=1740&amp;q=80" alt="女生與兩隻貓"><div class="rounded-1 position-absolute lp-text"><h2 class="text-white p-4 font-monospace"> 周年慶輸入優惠碼 <span class="text-decoration-underline">costdo85</span> ，即享全館85折優惠 </h2></div></div><div class="d-md-none position-relative"><img class="w-100 my-3 rounded-4 lp-h-sm" src="https://images.unsplash.com/photo-1555341029-f730b0ce4522?ixlib=rb-4.0.3&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=1740&amp;q=80" alt="女生與兩隻貓"><div class="rounded-1 position-absolute lp-text-sm"><h2 class="text-white p-4 font-monospace h3"> 輸入優惠碼 <span class="text-decoration-underline">costdo85</span><br> 即可享全館 85 折優惠 </h2></div></div>',2),n={"aria-label":"breadcrumb",class:"mt-5"},r={class:"breadcrumb py-0 fs-3 position-relative"},l={class:"breadcrumb-item"},d=Object(s["createElementVNode"])("i",{class:"bi bi-house-door-fill text-warning"},null,-1),m={class:"breadcrumb-item text-brown fw-bold","aria-current":"page"},u={class:"row mt-4"},b={class:"col-md-3 d-md-block d-none"},p=Object(s["createElementVNode"])("h3",{class:"list-group-item h4 mb-0 fw-bold text-white bg-brown py-3 px-3"},"商品目錄",-1),h=["onClick"],g={class:"col-md-8"},f={class:"row row-cols-md-3 g-2"};function j(e,t,a,j,O,y){const v=Object(s["resolveComponent"])("VueLoading"),k=Object(s["resolveComponent"])("router-link"),_=Object(s["resolveComponent"])("ToastMessages"),w=Object(s["resolveComponent"])("ProductCard"),E=Object(s["resolveComponent"])("Pagination");return Object(s["openBlock"])(),Object(s["createElementBlock"])(s["Fragment"],null,[Object(s["createVNode"])(v,{active:e.isLoading},null,8,["active"]),Object(s["createElementVNode"])("div",c,[Object(s["createElementVNode"])("div",o,[i,Object(s["createElementVNode"])("nav",n,[Object(s["createElementVNode"])("ol",r,[Object(s["createElementVNode"])("li",l,[Object(s["createVNode"])(k,{to:"/"},{default:Object(s["withCtx"])(()=>[d]),_:1})]),Object(s["createElementVNode"])("li",m,Object(s["toDisplayString"])(O.filteredType),1),Object(s["createVNode"])(_)])]),Object(s["createElementVNode"])("div",u,[Object(s["createElementVNode"])("nav",b,[p,(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(O.category,(e,t)=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("section",{class:"list-group list-group-flush",key:"category"+t},[Object(s["createElementVNode"])("button",{type:"button",class:Object(s["normalizeClass"])(["list-group-item list-group-item-action router-link-active py-3 fw-bold border-bottom",{active:O.filteredType===e}]),"aria-current":"page",onClick:t=>y.handleChangeCategory(e)},[Object(s["createElementVNode"])("i",{class:Object(s["normalizeClass"])(["bi bi-caret-right-fill",{"text-warning":O.filteredType===e}])},null,2),Object(s["createTextVNode"])(" "+Object(s["toDisplayString"])(e),1)],10,h)]))),128))]),Object(s["createElementVNode"])("div",g,[Object(s["createElementVNode"])("div",f,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(y.currentPageData,e=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{class:"col-10 mx-auto mx-md-0",key:e.id},[Object(s["createVNode"])(w,{imageUrl:e.imageUrl,price:e.price,origin_price:e.origin_price,title:e.title,onAddToCart:t=>y.addToCart(e.id),onGetProduct:t=>y.getProduct(e.id)},null,8,["imageUrl","price","origin_price","title","onAddToCart","onGetProduct"])]))),128))])])])]),Object(s["createVNode"])(E,{pages:y.pagination,onEmitPages:t[0]||(t[0]=e=>O.currentPage=e)},null,8,["pages"])])],64)}a("14d9");var O=a("cfb9"),y=a("f367");const v={class:"card mb-4 shadow-sm text-center"},k=Object(s["createElementVNode"])("div",{class:"mask"},[Object(s["createElementVNode"])("div",{class:"caption"},"查看更多")],-1),_={class:"overflowHidden",style:{height:"50%"}},w=["src","alt"],E={class:"card-body card-bg"},N={class:"card-title text-brown fw-bold fs-4 f-kalam"},V={key:0,class:"card-text"},x={key:1,class:"card-text text-decoration-line-through my-0 f-kalam"},C={key:2,class:"card-text fs-5 f-kalam fw-bold"},B={class:"f-kalam fs-3 text-danger"},P={class:"row d-flex justify-content-between g-0"},T=Object(s["createElementVNode"])("i",{class:"bi bi-list"},null,-1),L=[T];function S(e,t,a,c,o,i){return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",v,[Object(s["createElementVNode"])("a",{href:"#",onClick:t[0]||(t[0]=Object(s["withModifiers"])(t=>e.$emit("getProduct"),["prevent"])),class:"d-block item-hover"},[k,Object(s["createElementVNode"])("div",_,[Object(s["createElementVNode"])("img",{class:"rounded-0 item-img img-fluid",src:a.imageUrl,alt:a.title},null,8,w)])]),Object(s["createElementVNode"])("div",E,[Object(s["createElementVNode"])("h5",N,Object(s["toDisplayString"])(a.title),1),a.price?Object(s["createCommentVNode"])("",!0):(Object(s["openBlock"])(),Object(s["createElementBlock"])("p",V,Object(s["toDisplayString"])(a.origin_price)+" 元",1)),a.price?(Object(s["openBlock"])(),Object(s["createElementBlock"])("p",x,"原價 "+Object(s["toDisplayString"])(a.origin_price)+" 元",1)):Object(s["createCommentVNode"])("",!0),a.price?(Object(s["openBlock"])(),Object(s["createElementBlock"])("p",C,[Object(s["createTextVNode"])("現在只要 "),Object(s["createElementVNode"])("span",B,"$"+Object(s["toDisplayString"])(a.price),1),Object(s["createTextVNode"])(" 元")])):Object(s["createCommentVNode"])("",!0),Object(s["createElementVNode"])("div",P,[Object(s["createElementVNode"])("button",{type:"button",class:"col-3 btn btn-outline-brown",onClick:t[1]||(t[1]=t=>e.$emit("getProduct"))},L),Object(s["createElementVNode"])("button",{type:"button",class:"col-8 btn btn-outline-brown fw-bold",onClick:t[2]||(t[2]=t=>e.$emit("addToCart"))}," 加到購物車 ")])])])}var M={name:"product-card",props:{title:{type:String,default:""},origin_price:{type:Number,default:null},price:{type:Number,default:null},imageUrl:{type:String,default:""}}},D=a("6b0d"),$=a.n(D);const I=$()(M,[["render",S]]);var H=I,z=a("2a53"),q={components:{ToastMessages:y["a"],ProductCard:H,Pagination:z["a"]},data(){return{products:[],searchResult:[],product:{},status:{loadingItem:""},filteredType:"所有商品",currentPage:1,category:["所有商品","寵物保健","寵物食品","寵物用品"]}},methods:{getProducts(){const e="https://vue3-course-api.hexschool.io/api/chifinal-api/products/all";this.isLoading=!0,this.$http.get(e).then(e=>{this.products=e.data.products,this.isLoading=!1;const t=this.$route.query.product;t&&(this.filteredType="搜尋結果",this.searchResult=this.products.filter(e=>e.title.match(t)))}).catch(()=>{this.$swal.fire({icon:"error",title:"獲取商品失敗，請確認是否有商品內容 !",showConfirmButton:!1,timer:1500})})},getProduct(e){this.$router.push("/product/"+e)},addToCart(e,t=1){const a="https://vue3-course-api.hexschool.io/api/chifinal-api/cart",s={product_id:e,qty:t};this.isLoading=!0,this.$http.post(a,{data:s}).then(e=>{this.isLoading=!1,O["a"].emit("getCartLength"),this.$httpMessageState(e,"加入購物車")}).catch(e=>{this.$httpMessageState(e,"加入失敗")})},handleChangeCategory(e){this.currentPage=1,this.filteredType=e}},computed:{filteredProducts(){if("搜尋結果"===this.filteredType)return this.searchResult;let e=this.products;return"所有商品"!==this.filteredType&&(e=this.products.filter(e=>e.category===this.filteredType)),e},currentPageData(){return this.filteredProducts.slice(6*(this.currentPage-1),6*this.currentPage)},pagination(){const e=Math.ceil(this.filteredProducts.length/6);return{total_pages:e,current_page:this.currentPage,has_pre:1!==this.currentPage,has_next:this.currentPage!==e}}},created(){this.getProducts()},provide(){return{emitter:O["a"]}}};const G=$()(q,[["render",j]]);t["default"]=G},"2a53":function(e,t,a){"use strict";var s=a("7a23");const c={"aria-label":"Page navigation"},o={class:"pagination justify-content-center"},i=Object(s["createElementVNode"])("i",{class:"bi bi-chevron-left"},null,-1),n=[i],r=["onClick"],l=Object(s["createElementVNode"])("i",{class:"bi bi-chevron-right"},null,-1),d=[l];function m(e,t,a,i,l,m){return Object(s["openBlock"])(),Object(s["createElementBlock"])("nav",c,[Object(s["createElementVNode"])("ul",o,[Object(s["createElementVNode"])("li",{class:Object(s["normalizeClass"])(["page-item",{disabled:!1===a.pages.has_pre}])},[Object(s["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[0]||(t[0]=Object(s["withModifiers"])((...e)=>m.prePage&&m.prePage(...e),["prevent"]))},n)],2),(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(a.pages.total_pages,e=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("li",{class:Object(s["normalizeClass"])(["page-item f-kalam",{active:e===a.pages.current_page}]),key:e},[Object(s["createElementVNode"])("a",{class:"page-link",href:"#",onClick:Object(s["withModifiers"])(t=>m.updatePage(e),["prevent"])},Object(s["toDisplayString"])(e),9,r)],2))),128)),Object(s["createElementVNode"])("li",{class:Object(s["normalizeClass"])(["page-item",{disabled:!1===a.pages.has_next}])},[Object(s["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[1]||(t[1]=Object(s["withModifiers"])((...e)=>m.nextPage&&m.nextPage(...e),["prevent"]))},d)],2)])])}var u={props:["pages"],methods:{prePage(){this.$emit("emit-pages",this.pages.current_page-1)},updatePage(e){this.$emit("emit-pages",e)},nextPage(){this.$emit("emit-pages",this.pages.current_page+1)}}},b=a("6b0d"),p=a.n(b);const h=p()(u,[["render",m]]);t["a"]=h},"6ea1":function(e,t,a){
/*!
  * Bootstrap toast.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(t,s){e.exports=s(a("aa53"),a("6a95"),a("302d"),a("0f28"))})(0,(function(e,t,a,s){"use strict";const c=e=>e&&"object"===typeof e&&"default"in e?e:{default:e},o=c(t),i=c(a),n="toast",r="bs.toast",l="."+r,d="mouseover"+l,m="mouseout"+l,u="focusin"+l,b="focusout"+l,p="hide"+l,h="hidden"+l,g="show"+l,f="shown"+l,j="fade",O="hide",y="show",v="showing",k={animation:"boolean",autohide:"boolean",delay:"number"},_={animation:!0,autohide:!0,delay:5e3};class w extends i.default{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return _}static get DefaultType(){return k}static get NAME(){return n}show(){const t=o.default.trigger(this._element,g);if(t.defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(j);const a=()=>{this._element.classList.remove(v),o.default.trigger(this._element,f),this._maybeScheduleHide()};this._element.classList.remove(O),e.reflow(this._element),this._element.classList.add(y,v),this._queueCallback(a,this._element,this._config.animation)}hide(){if(!this.isShown())return;const e=o.default.trigger(this._element,p);if(e.defaultPrevented)return;const t=()=>{this._element.classList.add(O),this._element.classList.remove(v,y),o.default.trigger(this._element,h)};this._element.classList.add(v),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(y),super.dispose()}isShown(){return this._element.classList.contains(y)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t;break}if(t)return void this._clearTimeout();const a=e.relatedTarget;this._element===a||this._element.contains(a)||this._maybeScheduleHide()}_setListeners(){o.default.on(this._element,d,e=>this._onInteraction(e,!0)),o.default.on(this._element,m,e=>this._onInteraction(e,!1)),o.default.on(this._element,u,e=>this._onInteraction(e,!0)),o.default.on(this._element,b,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=w.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}return s.enableDismissTrigger(w),e.defineJQueryPlugin(w),w}))},f367:function(e,t,a){"use strict";var s=a("7a23");const c={class:"toast-container position-absolute pe-3 top-0 end-0",style:{"z-index":"1050"}};function o(e,t,a,o,i,n){const r=Object(s["resolveComponent"])("Toast");return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",c,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(i.messages,(e,t)=>(Object(s["openBlock"])(),Object(s["createBlock"])(r,{key:t,msg:e},null,8,["msg"]))),128))])}a("14d9");const i={class:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true",ref:"toast"},n={class:"toast-header"},r={class:"me-auto"},l=Object(s["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"},null,-1),d={key:0,class:"toast-body"};function m(e,t,a,c,o,m){return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",i,[Object(s["createElementVNode"])("div",n,[Object(s["createElementVNode"])("span",{class:Object(s["normalizeClass"])(["bg-"+a.msg.style,"p-2 rounded me-2 d-inline-block"])},null,2),Object(s["createElementVNode"])("strong",r,Object(s["toDisplayString"])(a.msg.title),1),l]),a.msg.content?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",d,Object(s["toDisplayString"])(a.msg.content),1)):Object(s["createCommentVNode"])("",!0)],512)}var u=a("6ea1"),b=a.n(u),p={name:"ToastComponent",props:["msg"],mounted(){const e=this.$refs.toast,t=new b.a(e,{delay:1500});t.show()}},h=a("6b0d"),g=a.n(h);const f=g()(p,[["render",m]]);var j=f,O={components:{Toast:j},data(){return{messages:[]}},inject:["emitter"],mounted(){this.emitter.on("push-message",e=>{const{style:t="success",title:a,content:s}=e;this.messages.push({style:t,title:a,content:s})})}};const y=g()(O,[["render",o]]);t["a"]=y}}]);
//# sourceMappingURL=chunk-d1b94f06.d447c23a.js.map