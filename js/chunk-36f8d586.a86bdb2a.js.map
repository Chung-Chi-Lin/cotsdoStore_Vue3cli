{"version":3,"sources":["webpack:///./src/components/UserProgress.vue","webpack:///./src/components/UserProgress.vue?c9ce","webpack:///./src/assets/home-img/picwish.png","webpack:///./src/views/UserCart.vue","webpack:///./src/views/UserCart.vue?6ec1"],"names":["class","style","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","role","$data","aria-valuenow","aria-valuemin","aria-valuemax","type","ref","props","data","styleObject","width","errorClass","successClass","methods","checkProgress","this","checkoutType","$refs","order","classList","add","check","mounted","__exports__","render","module","exports","_hoisted_16","_hoisted_28","src","_imports_0","alt","_createVNode","_component_VueLoading","active","_component_UserProgress","checkout-type","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_8","_hoisted_9","_hoisted_10","_Fragment","carts","item","key","id","_hoisted_11","_hoisted_12","product","title","coupon","_hoisted_13","_hoisted_14","disabled","loadingItem","onClick","$options","_hoisted_18","imageUrl","_hoisted_20","_hoisted_21","aria-label","min","onChange","qty","_hoisted_23","unit","_hoisted_24","final_total","total","_hoisted_25","_ctx","currency","_hoisted_26","_hoisted_30","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","placeholder","_hoisted_49","_hoisted_50","_hoisted_51","_component_router_link","to","components","UserProgress","products","status","cart","cartLength","coupon_code","isLoading","progressType","getProducts","url","$http","get","then","response","catch","$swal","fire","icon","showConfirmButton","timer","getProduct","$router","push","addCart","product_id","post","getCart","length","updateCart","put","removeCartItem","delete","emitter","emit","addCouponCode","code","trim","res","success","text","goProducts","created"],"mappings":"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","file":"js/chunk-36f8d586.a86bdb2a.js","sourcesContent":["<template>\n  <div class=\"position-relative m-5\">\n    <div class=\"progress\" style=\"height: 3px;\">\n      <div class=\"progress-bar bg-warning\" role=\"progressbar\" :style=\"styleObject\"\n        aria-valuenow=\"50\" aria-valuemin=\"0\" aria-valuemax=\"100\">\n      </div>\n    </div>\n    <button type=\"button\" ref=\"cart\" :class=\"successClass\"\n      class=\"position-absolute top-0 start-0 pe-none\n      translate-middle btn btn-sm text-white rounded-pill progress-w\">1\n      <span class=\"text-dark fw-bold position-absolute top-100 start-50\n        translate-middle-x text-nowrap text-brown\">購物車\n      </span>\n    </button>\n    <button type=\"button\" ref=\"order\" :class=\"errorClass\"\n      class=\"position-absolute top-0 start-50 pe-none\n      translate-middle btn btn-sm rounded-pill text-white progress-w\">2\n      <span class=\"text-dark fw-bold position-absolute top-100 start-50\n        translate-middle-x text-nowrap text-brown\">填寫資料\n      </span>\n    </button>\n    <button type=\"button\" ref=\"check\" :class=\"errorClass\"\n      class=\"position-absolute top-0 start-100 pe-none\n      translate-middle btn btn-sm text-white btn-secondary rounded-pill progress-w\">3\n      <span class=\"text-dark fw-bold position-absolute top-100 start-50\n        translate-middle-x text-nowrap text-brown\">訂單確認\n      </span>\n    </button>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  props: ['checkoutType'],\n  data() {\n    return {\n      styleObject: {\n        width: '0%',\n      },\n      errorClass: 'btn-secondary',\n      successClass: 'btn-warning',\n    };\n  },\n  methods: {\n    checkProgress() {\n      if (this.checkoutType === 'order') {\n        this.styleObject.width = '50%';\n        this.$refs.order.classList.add(this.successClass);\n      } else if (this.checkoutType === 'check') {\n        this.styleObject.width = '100%';\n        this.$refs.order.classList.add(this.successClass);\n        this.$refs.check.classList.add(this.successClass);\n      }\n    },\n  },\n  mounted() {\n    this.checkProgress();\n  },\n};\n</script>\n","import { render } from \"./UserProgress.vue?vue&type=template&id=77b2a20f\"\nimport script from \"./UserProgress.vue?vue&type=script&lang=js\"\nexport * from \"./UserProgress.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"G:\\\\前端\\\\Microsoft VS Code\\\\allPractice\\\\Vue3\\\\vueCostdoWorks\\\\costdo-works\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","module.exports = __webpack_public_path__ + \"img/picwish.dc7baad7.png\";","<template>\n  <VueLoading :active=\"isLoading\" />\n  <main class=\"container pb-5\">\n    <UserProgress :checkout-type=\"progressType\"></UserProgress>\n    <section class=\"container py-5 row\">\n      <div class=\"col-lg-8 col-md-7 mb-3\">\n        <section class=\"card mb-5\">\n          <div class=\"card-header px-sm-3 px-2\">\n            <h3 class=\"card-title fw-bold text-brown pt-2\">購物車 ( {{ cartLength }} 件 )\n              <i class=\"bi bi-cart-plus-fill fs-2\"></i>\n            </h3>\n          </div>\n          <div class=\"card-body px-sm-3 px-2\" v-if=\"cartLength\">\n            <ul class=\"list-group list-group-flush\">\n              <li class=\"list-group-item py-3 d-none d-md-block\">\n                  <tr class=\"d-flex justify-content-between text-brown\">\n                    <th class=\"ms-1\">品名</th>\n                    <th>照片</th>\n                    <th>數量</th>\n                    <th>單價</th>\n                    <th></th>\n                  </tr>\n              </li>\n              <li class=\"list-group-item\" v-for=\"item in cart.carts\" :key=\"item.id\">\n                <template v-if=\"cart.carts\">\n                  <tr class=\"d-flex justify-content-between row g-0\">\n                    <td class=\"col-6 col-md-3 mb-3 d-flex align-items-center\">\n                      {{ item.product.title }}\n                      <div class=\"text-success\" v-if=\"item.coupon\">\n                        已套用優惠券\n                      </div>\n                    </td>\n                    <td class=\"col-6 mb-3 text-end d-block d-md-none\">\n                      <button type=\"button\" class=\"btn btn-outline-danger\n                      btn-sm\"\n                              :disabled=\"status.loadingItem === item.id\"\n                              @click=\"removeCartItem(item.id)\">\n                        <i class=\"bi bi-x\"></i>\n                      </button>\n                    </td>\n                    <td class=\"col-12 col-md-3\">\n                      <img :src=\"item.product.imageUrl\" alt=\"購物車圖片\"\n                      class=\"cart-img\">\n                    </td>\n                    <td class=\"col-5 col-md-2 mt-3\">\n                      <div class=\"input-group input-group-sm\">\n                        <input type=\"number\" class=\"form-control\" aria-label=\"商品數量\"\n                              min=\"1\"\n                              :disabled=\"item.id === status.loadingItem\"\n                              @change=\"updateCart(item)\"\n                              v-model.number=\"item.qty\">\n                        <div class=\"input-group-text\">/ {{ item.product.unit }}</div>\n                      </div>\n                    </td>\n                    <td class=\"text-md-center text-end col col-md-3 mt-3 fs-5\">\n                      <small v-if=\"cart.final_total !== cart.total\"\n                      class=\"text-success\">折扣價:</small>\n                      $ {{ $filters.currency(item.final_total) }}\n                    </td>\n                    <td class=\"text-center col col-md-1 mt-3\">\n                      <button type=\"button\" class=\"btn btn-outline-danger\n                        btn-sm ms-2 d-none d-md-inline\"\n                        :disabled=\"status.loadingItem === item.id\"\n                        @click=\"removeCartItem(item.id)\">\n                        <i class=\"bi bi-x\"></i>\n                      </button>\n                    </td>\n                  </tr>\n                </template>\n              </li>\n            </ul>\n          </div>\n          <div class=\"mx-auto text-center p-5 position-relative mt-5\" v-else>\n            <button type=\"button\" class=\"btn btn-lg btn-success position-relative\n              position-absolute top-0 start-50 f-kalam btn-h\" @click=\"goProducts\">\n              返回商品頁\n              <i class=\"bi text-success bi-caret-down-fill position-absolute top-100 start-50\n              translate-middle mt-1 fs-3\"></i>\n            </button>\n            <img class=\"img-fluid mt-2\" src=\"@/assets/home-img/picwish.png\" alt=\"黑白毛色狗\">\n            <h4 class=\"text-brown fw-bold bg-warning p-2 rounded mt-3\">您還沒有加入任何商品哦 !</h4>\n          </div>\n        </section>\n      </div>\n      <div class=\"col-lg-4 col-md-5\">\n        <div class=\"card text-brown\">\n          <div class=\"card-header fw-bold fs-5 py-3\">\n            訂單資訊\n          </div>\n          <div class=\"card-body\">\n            <div class=\"d-flex justify-content-between mb-2\"\n            v-if=\"cart.final_total === cart.total\">\n              <span>原價：</span>\n              <span>NT$ {{ $filters.currency(cart.total) }}</span>\n            </div>\n            <div v-else class=\"d-flex justify-content-between mb-2 text-success\" >\n              <span>折扣價：</span>\n              <span>NT$ {{ $filters.currency(cart.final_total) }}</span>\n            </div>\n            <div class=\"d-flex justify-content-between mb-2\">\n              <span>運費：</span>\n              <span>NT$ 60</span>\n            </div>\n            <hr>\n            <div class=\"d-flex justify-content-between mb-3 fw-bold\"\n            v-if=\"cart.final_total === cart.total\">\n              <span>合計：</span>\n              <span>NT$ {{ $filters.currency(cart.total + 60) }}</span>\n            </div>\n            <div v-else-if=\"cart.final_total !== cart.total\"\n              class=\"d-flex justify-content-between mb-3 text-success fw-bold\">\n              <span>折扣價：</span>\n              <span>NT$ {{ $filters.currency(cart.final_total + 60) }}</span>\n            </div>\n            <div class=\"input-group mb-3 input-group-sm\">\n              <input type=\"text\" class=\"form-control\" v-model=\"coupon_code\"\n                aria-label=\"請輸入優惠碼\"\n                placeholder=\"請輸入優惠碼\">\n              <div class=\"input-group-append input-group-sm\">\n                <button class=\"btn btn-outline-dark\" type=\"button\" @click=\"addCouponCode\"\n                :class=\"{ 'disabled': !cartLength }\">\n                  套用優惠碼\n                </button>\n              </div>\n            </div>\n            <p>輸入<span class=\"bg-light fw-bold\"> costdo85 </span> 即可享有 85 折優惠</p>\n            <div class=\"d-flex justify-content-between mt-4\">\n              <router-link to=\"/products\"\n              class=\"btn btn-outline-secondary btn-block mr-2\">\n                繼續購物\n              </router-link>\n              <router-link to=\"/user/order\" class=\"btn btn-success btn-block mt-0\"\n              :class=\"{ 'disabled': !cartLength }\">\n                前往結帳\n              </router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  </main>\n</template>\n\n<script>\nimport emitter from '@/methods/emitter';\nimport UserProgress from '@/components/UserProgress.vue';\n\nexport default {\n  components: {\n    UserProgress,\n  },\n  data() {\n    return {\n      products: [],\n      product: {},\n      status: {\n        loadingItem: '', // 對應品項 id\n      },\n      cart: {},\n      cartLength: '0',\n      coupon_code: '',\n      isLoading: false,\n      progressType: 'cart',\n    };\n  },\n  methods: {\n    getProducts() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.isLoading = true;\n      this.$http.get(url).then((response) => {\n        this.products = response.data.products;\n        this.isLoading = false;\n      }).catch(() => {\n        this.$swal.fire({\n          icon: 'error',\n          title: '獲取商品失敗，請確認是否保持連線 !',\n          showConfirmButton: false,\n          timer: 1500,\n        });\n      });\n    },\n    getProduct(id) {\n      this.$router.push(`/user/product/${id}`);\n    },\n    addCart(id) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.status.loadingItem = id;\n      const cart = {\n        product_id: id,\n        qty: 1,\n      };\n      this.$http.post(url, { data: cart })\n        .then(() => {\n          this.status.loadingItem = '';\n          this.getCart();\n        }).catch(() => {\n          this.$swal.fire({\n            icon: 'error',\n            title: '加入商品失敗，請確認是否有保持連線 !',\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        });\n    },\n    getCart() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.isLoading = true;\n      this.$http.get(url).then((response) => {\n        this.cart = response.data.data;\n        this.cartLength = response.data.data.carts.length;\n        this.isLoading = false;\n      }).catch(() => {\n        this.$swal.fire({\n          icon: 'error',\n          title: '獲取失敗，請確認是否保持連線 !',\n          showConfirmButton: false,\n          timer: 1500,\n        });\n      });\n    },\n    updateCart(item) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`;\n      this.isLoading = true;\n      this.status.loadingItem = item.id;\n      const cart = {\n        product_id: item.product_id,\n        qty: item.qty,\n      };\n      this.$http.put(url, { data: cart }).then(() => {\n        this.status.loadingItem = '';\n        this.getCart();\n      }).catch(() => {\n        this.$swal.fire({\n          icon: 'error',\n          title: '新增失敗，請確認是否有保持連線 !',\n          showConfirmButton: false,\n          timer: 1500,\n        });\n      });\n    },\n    removeCartItem(id) {\n      this.status.loadingItem = id;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`;\n      this.isLoading = true;\n      this.$http.delete(url).then(() => {\n        this.status.loadingItem = '';\n        this.getCart();\n        emitter.emit('getCartLength');\n        this.isLoading = false;\n      }).catch(() => {\n        this.$swal.fire({\n          icon: 'error',\n          title: '移除失敗，請確認是否有保持連線 !',\n          showConfirmButton: false,\n          timer: 1500,\n        });\n      });\n    },\n    addCouponCode() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`;\n      const coupon = {\n        code: this.coupon_code.trim(),\n      };\n      this.isLoading = true;\n      this.$http.post(url, { data: coupon }).then((res) => {\n        this.isLoading = false;\n        if (res.data.success) {\n          this.getCart();\n        } else {\n          this.$swal.fire({\n            icon: 'error',\n            title: '優惠碼錯誤',\n            text: '請確認是否輸入正確優惠碼 !',\n            showConfirmButton: false,\n            timer: 2000,\n          });\n        }\n      }).catch(() => {\n        this.$swal.fire({\n          icon: 'error',\n          title: '加入優惠卷失敗，請確認是否有保持連線 !',\n          showConfirmButton: false,\n          timer: 1500,\n        });\n      });\n    },\n    goProducts() {\n      this.$router.push('/products');\n    },\n  },\n  created() {\n    this.getProducts();\n    this.getCart();\n  },\n};\n</script>\n","import { render } from \"./UserCart.vue?vue&type=template&id=3a9f7ac3\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"G:\\\\前端\\\\Microsoft VS Code\\\\allPractice\\\\Vue3\\\\vueCostdoWorks\\\\costdo-works\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}